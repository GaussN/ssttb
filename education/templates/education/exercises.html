{% extends 'app/base.html' %}

{% block content %}
<div class="jumbotron text-center">
    <div class="text-left"><a href="{% url 'home_page' %}" style="text-decoration: underline;">Учебный материал</a> > <b>Задания</b></div>
    <h2><b>Задания</b></h2>
    <small></small>
</div>

{% for exercise in exercises %}
  <div class="jumbotron text-center">
    {% autoescape off %}
      <div class="exercise-block">
        {{ exercise.exercise }}</br>
      </div>
      
      <div class="asnwer-block">
        <button class="btn btn-success show-answer">Смотреть ответ</button></br>
      
        <div class="answer" style="display: none;">
          <p>{{ exercise.answer }}</p>
        </div>
      </div>

    {% endautoescape %}
  </div>
  {% empty %}
  Nic nie ma
{% endfor %}
<script>
    let answer_blocks = document.querySelectorAll(".asnwer-block");
    for (let answer_block of answer_blocks){
      answer_block.querySelector('button').addEventListener('click', (event) => {
      let answer = answer_block.querySelector('div');
      if(answer.style.display === "none") 
        answer.style.display = "block";
      else
        answer.style.display = "none";
    });
    }
</script>
{% endblock %}
